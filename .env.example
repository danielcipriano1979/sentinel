# PostgreSQL Database Configuration
# ===================================

# Option 1: Connection String (recommended for Kubernetes)
# If DATABASE_URL is set, it takes precedence over individual connection parameters
DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# Option 2: Individual Connection Parameters (fallback if DATABASE_URL not set)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hostwatch
DB_USER=postgres
DB_PASSWORD=your_secure_password

# Connection Pool Configuration
# Default values are suitable for most deployments
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=2
DB_CONNECTION_TIMEOUT_MS=10000
DB_IDLE_TIMEOUT_MS=30000
DB_STATEMENT_TIMEOUT_MS=30000

# Application Configuration
# ========================
PORT=5000
NODE_ENV=production

# Session & Authentication
# ========================
# Session secret for express-session (used for authentication)
# Generate with: openssl rand -base64 32
SESSION_SECRET=your-random-session-secret-here

# JWT Secret (optional, for token-based authentication)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here

# Redis Configuration (for persistent metrics storage)
# ===================================================
# Option 1: Connection URL (recommended)
REDIS_URL=redis://localhost:6379

# Option 2: Individual Parameters (fallback)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Connection Settings
REDIS_CONNECT_TIMEOUT=5000
REDIS_RETRY_STRATEGY=3
REDIS_MAX_RETRIES_PER_REQUEST=3

# Metrics Retention and Batch Settings
REDIS_METRICS_RETENTION_DAYS=30
REDIS_BATCH_WRITE_INTERVAL_MS=30000
